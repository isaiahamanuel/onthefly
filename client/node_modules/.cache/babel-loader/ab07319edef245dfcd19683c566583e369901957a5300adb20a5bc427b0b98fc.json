{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useParams}from\"react-router-dom\";import\"./EditTrip.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EditTrip=_ref=>{let{data}=_ref;const{id}=useParams();const[post,setPost]=useState({id:0,title:\"\",description:\"\",img_url:\"\",num_days:0,start_date:\"\",end_date:\"\",total_cost:0.0});useEffect(()=>{const result=data.filter(item=>item.id===parseInt(id))[0];setPost({id:parseInt(result.id),title:result.title,description:result.description,img_url:result.img_url,num_days:parseInt(result.num_days),start_date:result.start_date.slice(0,10),end_date:result.end_date.slice(0,10),total_cost:result.total_cost});},[data,id]);const handleChange=event=>{const{name,value}=event.target;setPost(prev=>{return{...prev,[name]:value};});};const updatePost=event=>{event.preventDefault();const options={method:\"PATCH\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(post)};fetch(\"/api/trips/\"+id,options);window.location.href=\"/\";};const deletePost=event=>{event.preventDefault();const options={method:\"DELETE\"};fetch(\"/api/trips/\"+id,options);window.location.href=\"/\";};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Title\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"title\",name:\"title\",value:post.title,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"textarea\",{rows:\"5\",cols:\"50\",id:\"description\",name:\"description\",value:post.description,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Image URL \"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"img_url\",name:\"img_url\",value:post.img_url,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Number of Days\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"num_days\",name:\"num_days\",value:post.num_days,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Start Date \"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"start_date\",name:\"start_date\",value:post.start_date,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"End Date \"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"end_date\",name:\"end_date\",value:post.end_date,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Total Cost\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"total_cost\",name:\"total_cost\",value:post.total_cost,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Submit\",onClick:updatePost}),/*#__PURE__*/_jsx(\"button\",{className:\"deleteButton\",onClick:deletePost,children:\"Delete\"})]})});};export default EditTrip;","map":{"version":3,"names":["React","useState","useEffect","useParams","jsx","_jsx","jsxs","_jsxs","EditTrip","_ref","data","id","post","setPost","title","description","img_url","num_days","start_date","end_date","total_cost","result","filter","item","parseInt","slice","handleChange","event","name","value","target","prev","updatePost","preventDefault","options","method","headers","body","JSON","stringify","fetch","window","location","href","deletePost","children","type","onChange","rows","cols","onClick","className"],"sources":["/home/isaiah/Codepath/Web-103/onthefly/client/src/pages/EditTrip.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport \"./EditTrip.css\";\n\nconst EditTrip = ({ data }) => {\n  const { id } = useParams();\n  const [post, setPost] = useState({\n    id: 0,\n    title: \"\",\n    description: \"\",\n    img_url: \"\",\n    num_days: 0,\n    start_date: \"\",\n    end_date: \"\",\n    total_cost: 0.0,\n  });\n\n  useEffect(() => {\n    const result = data.filter((item) => item.id === parseInt(id))[0];\n    setPost({\n      id: parseInt(result.id),\n      title: result.title,\n      description: result.description,\n      img_url: result.img_url,\n      num_days: parseInt(result.num_days),\n      start_date: result.start_date.slice(0, 10),\n      end_date: result.end_date.slice(0, 10),\n      total_cost: result.total_cost,\n    });\n  }, [data, id]);\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    setPost((prev) => {\n      return {\n        ...prev,\n        [name]: value,\n      };\n    });\n  };\n\n  const updatePost = (event) => {\n    event.preventDefault();\n\n    const options = {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(post),\n    };\n\n    fetch(\"/api/trips/\" + id, options);\n    window.location.href = \"/\";\n  };\n\n  const deletePost = (event) => {\n    event.preventDefault();\n\n    const options = {\n      method: \"DELETE\",\n    };\n\n    fetch(\"/api/trips/\" + id, options);\n    window.location.href = \"/\";\n  };\n\n  return (\n    <div>\n      <form>\n        <label>Title</label> <br />\n        <input\n          type=\"text\"\n          id=\"title\"\n          name=\"title\"\n          value={post.title}\n          onChange={handleChange}\n        />\n        <br />\n        <br />\n        <label>Description</label>\n        <br />\n        <textarea\n          rows=\"5\"\n          cols=\"50\"\n          id=\"description\"\n          name=\"description\"\n          value={post.description}\n          onChange={handleChange}\n        ></textarea>\n        <br />\n        <label>Image URL </label>\n        <br />\n        <input\n          type=\"text\"\n          id=\"img_url\"\n          name=\"img_url\"\n          value={post.img_url}\n          onChange={handleChange}\n        />\n        <br />\n        <br />\n        <label>Number of Days</label>\n        <br />\n        <input\n          type=\"number\"\n          id=\"num_days\"\n          name=\"num_days\"\n          value={post.num_days}\n          onChange={handleChange}\n        />\n        <br />\n        <br />\n        <label>Start Date </label>\n        <br />\n        <input\n          type=\"text\"\n          id=\"start_date\"\n          name=\"start_date\"\n          value={post.start_date}\n          onChange={handleChange}\n        />\n        <br />\n        <br />\n        <label>End Date </label>\n        <br />\n        <input\n          type=\"text\"\n          id=\"end_date\"\n          name=\"end_date\"\n          value={post.end_date}\n          onChange={handleChange}\n        />\n        <br />\n        <br />\n        <label>Total Cost</label>\n        <br />\n        <input\n          type=\"text\"\n          id=\"total_cost\"\n          name=\"total_cost\"\n          value={post.total_cost}\n          onChange={handleChange}\n        />\n        <br />\n        <br />\n        <input type=\"submit\" value=\"Submit\" onClick={updatePost} />\n        <button className=\"deleteButton\" onClick={deletePost}>\n          Delete\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default EditTrip;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import React,{useState}from\"react\";import{useParams}from\"react-router-dom\";import\"./CreateDestination.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CreateDestination=()=>{const[destination,setDestination]=useState({destination:\"\",description:\"\",city:\"\",country:\"\",img_url:\"\",flag_img_url:\"\"});const{trip_id}=useParams();const handleChange=event=>{const{name,value}=event.target;setDestination(prev=>{return{...prev,[name]:value};});};const createDestination=async event=>{event.preventDefault();const addDestination=async()=>{const options={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(destination)};const response=await fetch(\"/api/destinations\",options);const data=await response.json();setDestination(data);return data.id;};const createTripDestination=async destination_id=>{const options={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({trip_id:trip_id,destination_id:destination_id})};const response=await fetch(\"/api/trips-destinations\",options);const data=await response.json();return data;};addDestination().then(res=>createTripDestination(res)).then(res=>window.location=\"/\");};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsx(\"h3\",{children:\"Add Destination\"})}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Destination\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"destination\",name:\"destination\",value:destination.destination,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"textarea\",{rows:\"5\",cols:\"50\",id:\"description\",name:\"description\",value:destination.description,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"City \"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"city\",name:\"city\",value:destination.city,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Country\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"country\",name:\"country\",value:destination.country,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Image URL \"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"img_url\",name:\"img_url\",value:destination.img_url,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Flag Image URL\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"flag_img_url\",name:\"flag_img_url\",value:destination.flag_img_url,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Trip ID\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"flag_img_url\",name:\"flag_img_url\",value:trip_id,readOnly:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Submit\",onClick:createDestination})]})]});};export default CreateDestination;","map":{"version":3,"names":["React","useState","useParams","jsx","_jsx","jsxs","_jsxs","CreateDestination","destination","setDestination","description","city","country","img_url","flag_img_url","trip_id","handleChange","event","name","value","target","prev","createDestination","preventDefault","addDestination","options","method","headers","body","JSON","stringify","response","fetch","data","json","id","createTripDestination","destination_id","then","res","window","location","children","type","onChange","rows","cols","readOnly","onClick"],"sources":["/home/isaiah/Codepath/Web-103/onthefly/client/src/pages/CreateDestination.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport \"./CreateDestination.css\";\n\nconst CreateDestination = () => {\n  const [destination, setDestination] = useState({\n    destination: \"\",\n    description: \"\",\n    city: \"\",\n    country: \"\",\n    img_url: \"\",\n    flag_img_url: \"\",\n  });\n  const { trip_id } = useParams();\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    setDestination((prev) => {\n      return {\n        ...prev,\n        [name]: value,\n      };\n    });\n  };\n\n  const createDestination = async (event) => {\n    event.preventDefault();\n    const addDestination = async () => {\n      const options = {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(destination),\n      };\n\n      const response = await fetch(\"/api/destinations\", options);\n      const data = await response.json();\n      setDestination(data);\n      return data.id;\n    };\n\n    const createTripDestination = async (destination_id) => {\n      const options = {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          trip_id: trip_id,\n          destination_id: destination_id,\n        }),\n      };\n\n      const response = await fetch(\"/api/trips-destinations\", options);\n      const data = await response.json();\n      return data;\n    };\n\n    addDestination()\n      .then((res) => createTripDestination(res))\n      .then((res) => (window.location = \"/\"));\n  };\n\n  return (\n    <div>\n      <center>\n        <h3>Add Destination</h3>\n      </center>\n      <form>\n        <label>Destination</label> <br />\n        <input\n          type=\"text\"\n          id=\"destination\"\n          name=\"destination\"\n          value={destination.destination}\n          onChange={handleChange}\n        />\n        <br />\n        <br />\n        <label>Description</label>\n        <br />\n        <textarea\n          rows=\"5\"\n          cols=\"50\"\n          id=\"description\"\n          name=\"description\"\n          value={destination.description}\n          onChange={handleChange}\n        ></textarea>\n        <br />\n        <label>City </label>\n        <br />\n        <input\n          type=\"text\"\n          id=\"city\"\n          name=\"city\"\n          value={destination.city}\n          onChange={handleChange}\n        />\n        <br />\n        <br />\n        <label>Country</label>\n        <br />\n        <input\n          type=\"text\"\n          id=\"country\"\n          name=\"country\"\n          value={destination.country}\n          onChange={handleChange}\n        />\n        <br />\n        <br />\n        <label>Image URL </label>\n        <br />\n        <input\n          type=\"text\"\n          id=\"img_url\"\n          name=\"img_url\"\n          value={destination.img_url}\n          onChange={handleChange}\n        />\n        <br />\n        <br />\n        <label>Flag Image URL</label>\n        <br />\n        <input\n          type=\"text\"\n          id=\"flag_img_url\"\n          name=\"flag_img_url\"\n          value={destination.flag_img_url}\n          onChange={handleChange}\n        />\n        <br />\n        <br />\n        <label>Trip ID</label>\n        <br />\n        <input\n          type=\"text\"\n          id=\"flag_img_url\"\n          name=\"flag_img_url\"\n          value={trip_id}\n          readOnly\n        />\n        <br />\n        <br />\n        <input type=\"submit\" value=\"Submit\" onClick={createDestination} />\n      </form>\n    </div>\n  );\n};\n\nexport default CreateDestination;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
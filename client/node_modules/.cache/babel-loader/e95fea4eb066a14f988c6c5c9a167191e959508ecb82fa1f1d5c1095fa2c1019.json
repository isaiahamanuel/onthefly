{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{Link,useParams}from\"react-router-dom\";import ActivityBtn from\"../components/ActivityBtn\";import DestinationBtn from\"../components/DestinationBtn\";import\"./TripDetails.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TripDetails=_ref=>{let{data}=_ref;const{id}=useParams();const[post,setPost]=useState({id:0,title:\"\",description:\"\",img_url:\"\",num_days:0,start_date:\"\",end_date:\"\",total_cost:0.0});const[activities,setActivities]=useState([]);const[destinations,setDestinations]=useState([]);useEffect(()=>{const result=data.filter(item=>item.id===parseInt(id))[0];setPost({id:parseInt(result.id),title:result.title,description:result.description,img_url:result.img_url,num_days:parseInt(result.num_days),start_date:result.start_date.slice(0,10),end_date:result.end_date.slice(0,10),total_cost:result.total_cost});const fetchActivities=async()=>{const response=await fetch(\"/api/trip-destinations/activities/\"+id);const data=await response.json();setActivities(data);};const fetchDestinations=async()=>{const response=await fetch(\"/api/trips-destinations/destinations/\"+id);const data=await response.json();setDestinations(data);};fetchActivities();fetchDestinations();},[data,id]);return/*#__PURE__*/_jsxs(\"div\",{className:\"out\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"left-side\",children:[/*#__PURE__*/_jsx(\"h3\",{children:post.title}),/*#__PURE__*/_jsx(\"p\",{children:\"üóìÔ∏è Duration: \"+post.num_days+\" days \"}),/*#__PURE__*/_jsx(\"p\",{children:\"üõ´ Depart: \"+post.start_date}),/*#__PURE__*/_jsx(\"p\",{children:\"üõ¨ Return: \"+post.end_date}),/*#__PURE__*/_jsx(\"p\",{children:post.description})]}),/*#__PURE__*/_jsx(\"div\",{className:\"right-side\",style:{backgroundImage:\"url(\".concat(post.img_url,\")\")}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"activities\",children:[activities&&activities.length>0?activities.map((activity,index)=>/*#__PURE__*/_jsx(ActivityBtn,{id:activity.id,activity:activity.activity,num_votes:activity.num_votes})):\"\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Link,{to:\"../../activity/create/\"+id,children:/*#__PURE__*/_jsx(\"button\",{className:\"addActivityBtn\",children:\"+ Add Activity\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"destinations\",children:[destinations&&destinations.length>0?destinations.map((destination,index)=>/*#__PURE__*/_jsx(DestinationBtn,{id:destination.id,destination:destination.destination})):\"\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Link,{to:\"../../destination/new/\"+id,children:/*#__PURE__*/_jsx(\"button\",{className:\"addDestinationBtn\",children:\"+ Add Destination\"})})]})]})]});};export default TripDetails;","map":{"version":3,"names":["React","useState","useEffect","Link","useParams","ActivityBtn","DestinationBtn","jsx","_jsx","jsxs","_jsxs","TripDetails","_ref","data","id","post","setPost","title","description","img_url","num_days","start_date","end_date","total_cost","activities","setActivities","destinations","setDestinations","result","filter","item","parseInt","slice","fetchActivities","response","fetch","json","fetchDestinations","className","children","style","backgroundImage","concat","length","map","activity","index","num_votes","to","destination"],"sources":["/home/isaiah/Codepath/Web-103/onthefly/client/src/pages/TripDetails.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport ActivityBtn from \"../components/ActivityBtn\";\nimport DestinationBtn from \"../components/DestinationBtn\";\nimport \"./TripDetails.css\";\n\nconst TripDetails = ({ data }) => {\n  const { id } = useParams();\n  const [post, setPost] = useState({\n    id: 0,\n    title: \"\",\n    description: \"\",\n    img_url: \"\",\n    num_days: 0,\n    start_date: \"\",\n    end_date: \"\",\n    total_cost: 0.0,\n  });\n  const [activities, setActivities] = useState([]);\n  const [destinations, setDestinations] = useState([]);\n\n  useEffect(() => {\n    const result = data.filter((item) => item.id === parseInt(id))[0];\n    setPost({\n      id: parseInt(result.id),\n      title: result.title,\n      description: result.description,\n      img_url: result.img_url,\n      num_days: parseInt(result.num_days),\n      start_date: result.start_date.slice(0, 10),\n      end_date: result.end_date.slice(0, 10),\n      total_cost: result.total_cost,\n    });\n\n    const fetchActivities = async () => {\n      const response = await fetch(\"/api/trip-destinations/activities/\" + id);\n      const data = await response.json();\n      setActivities(data);\n    };\n\n    const fetchDestinations = async () => {\n      const response = await fetch(\n        \"/api/trips-destinations/destinations/\" + id\n      );\n      const data = await response.json();\n      setDestinations(data);\n    };\n\n    fetchActivities();\n    fetchDestinations();\n  }, [data, id]);\n\n  return (\n    <div className=\"out\">\n      <div className=\"flex-container\">\n        <div className=\"left-side\">\n          <h3>{post.title}</h3>\n          <p>{\"üóìÔ∏è Duration: \" + post.num_days + \" days \"}</p>\n          <p>{\"üõ´ Depart: \" + post.start_date}</p>\n          <p>{\"üõ¨ Return: \" + post.end_date}</p>\n          <p>{post.description}</p>\n        </div>\n\n        <div\n          className=\"right-side\"\n          style={{ backgroundImage: `url(${post.img_url})` }}\n        ></div>\n      </div>\n\n      <div className=\"flex-container\">\n        <div className=\"activities\">\n          {activities && activities.length > 0\n            ? activities.map((activity, index) => (\n                <ActivityBtn\n                  id={activity.id}\n                  activity={activity.activity}\n                  num_votes={activity.num_votes}\n                />\n              ))\n            : \"\"}\n          <br />\n          <Link to={\"../../activity/create/\" + id}>\n            <button className=\"addActivityBtn\">+ Add Activity</button>\n          </Link>\n        </div>\n        <div className=\"destinations\">\n          {destinations && destinations.length > 0\n            ? destinations.map((destination, index) => (\n                <DestinationBtn\n                  id={destination.id}\n                  destination={destination.destination}\n                />\n              ))\n            : \"\"}\n          <br />\n          <Link to={\"../../destination/new/\" + id}>\n            <button className=\"addDestinationBtn\">+ Add Destination</button>\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TripDetails;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}